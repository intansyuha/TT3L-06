<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, inital-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <nav>
        <div class="container">
            <h2 class="logo">RevÃªLuxe</h2>
            <div class="search-bar">
                <i class='bx bx-search'></i>
                <input type="search" id="searchQuery" name="searchQuery" placeholder="Search for creators, inspirations and projects">
            </div>
        </div>
    </nav>

  <main>
      <div class="container">
          <div class="left">
              <a class="profile">
                  <div class="handle">
                      <h4>@{{ username }}</h4>
                  </div>
              </a>
              <div class="sidebar">
                <a href="{{ url_for('community_page', username=username) }}" class="menu-item active">
                    <span><i class='bx bx-home-heart icon'></i></span> <h3>Home</h3>
                </a>
                <a class="menu-item" href="{{ url_for('wardrobecategory', username=username) }}">
                    <span><i class='bx bx-store'></i></span> <h3>Wardrobe</h3>
                </a>
                <a class="menu-item" href="{{ url_for('index', username=username) }}">
                    <span><i class='bx bx-closet icon'></i></span> <h3>Upload Clothes</h3>
                </a>
                <a class="menu-item" href="{{ url_for('outfit_creator', username=username) }}">
                    <span><i class='bx bx-edit icon'></i></span> <h3>Outfit Creator</h3>
                </a>
                <a class="menu-item" href="{{ url_for('outfit_gallery', username=username) }}">
                    <span><i class='bx bx-star icon'></i></span> <h3>Outfit Gallery</h3>
                </a>
                <a class="menu-item" href="login.html">
                    <span><i class='bx bx-log-out'></i></span> <h3>Log Out</h3>
                </a>
            </div>
          </div>
          


          <div class="middle">
            <div class="feeds">
                {% for feed in feeds %}
                        <div class="feed" onclick="window.location.href='/outfit/{{ feed.outfit_id }}'">
                            <h3>{{ feed.username }}</h3>
                            <img src="{{ feed.image }}" alt="Outfit Image">
                            <p>Posted on {{ feed.date }}</p>
                        </div>
                    {% endfor %}
                </div>
            </div>
          
        <div class="right">
    
        

        </div>     
        </div>
    </div>
</main>

<script>

//sidebar
const menuItems = document.querySelectorAll('.menu-item');

 // Get the search input element
 const searchBar = document.getElementById('searchQuery');

// Add event listener to the search input element
searchBar.addEventListener('input', function(event) {
    // Get the search query
    const query = event.target.value.toLowerCase();

    // Get all the feed items
    const feeds = document.querySelectorAll('.feed');

    // Loop through each feed item
    feeds.forEach(feed => {
        // Get the username inside the feed item
        const username = feed.querySelector('.feed h3').textContent.toLowerCase();

        // Check if the username contains the search query
        if (username.includes(query)) {
            // If it does, display the feed item
            feed.style.display = 'block';
        } else {
            // If it doesn't, hide the feed item
            feed.style.display = 'none';
        }
    });
});

</script>

</body>
</html>
