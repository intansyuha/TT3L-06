<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8">
    <title>Outfit Creator</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <nav>
        <section class="header">
            <div class="menu">
                <i class='bx bx-menu bx-md menu-icon'></i>
            </div>
            <div class="side-bar">
                <div class="menu">
                    <i class='bx bx-menu bx-md menu-icon'></i>
                </div>
                <div class="side-bar-content">
                    <ul class="lists">
                        <li class="list">
                            <a href="community-page.html" class="nav-link">
                                <i class='bx bx-home-heart icon'></i>
                                <span class="link">Home</span>
                            </a>
                            <a href="wardrobecategory.html" class="nav-link">
                                <i class='bx bx-store icon'></i>
                                <span class="link">Wardrobe</span>
                            </a>
                            <a href="index.html" class="nav-link">
                                <i class='bx bx-closet icon'></i>
                                <span class="link">Clothes Upload</span>
                            </a>
                            <a href="outfitcreator.html" class="nav-link">
                                <i class='bx bx-edit icon'></i>
                                <span class="link">Outfit Creator</span>
                            </a>
                            <a href="outfitgallery.html" class="nav-link">
                                <i class='bx bx-star icon'></i>
                                <span class="link">Outfit Gallery</span>
                            </a>
                            <a href="settings.html" class="nav-link">
                                <i class='bx bx-cog icon'></i>
                                <span class="link">Settings</span>
                            </a>
                            <a href="login.html" class="nav-link">
                                <i class='bx bx-log-out'></i>
                                <span class="link">Log Out</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="button-container">
                <ul class="button" id="saveButton">
                    <li><a href="outfitgallery.html" class="button-save">Save</a></li>
                </ul>
            </div>
        </section>
    </nav>

    <section class="details">
        <div class="img-container">
            <div class="top-container" id="topContainer">
                <img src="" alt="">
            </div>
            <div class="bottom-container">
                <img src="" alt="">
            </div>
            <div class="outerwear-container">
                <img src="" alt="">
            </div>
            <div class="shoes-container">
                <img src="" alt="">
            </div>
            <div class="bags-container">
                <img src="" alt="">
            </div>
            <div class="accessories-container">
                <img src="" alt="">
            </div>
        </div>
    </section>

    <section class="footer">
        <div class="accordion-row" id="tops-accordion">
            <label>Tops 
                <i class='bx bx-chevron-right bx-sm'></i>
            </label>
            <div class="accordion-content">
                <div class="accordion-box">
                    <div class="sb-1">
                        {% for image_url in image_urls.get('top', []) %}
                        <div class="sb">
                            <img src="{{ image_url }}" alt="Uploaded Image">
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
        <div class="accordion-row" id="bottoms-accordion">
            <label>Bottoms 
                <i class='bx bx-chevron-right bx-sm'></i>
            </label>
            <div class="accordion-content">
                <div class="accordion-box">
                    {% for image_url in image_urls.get('bottom', []) %}
                    <div class="sb">
                        <img src="{{ image_url }}" alt="Bottom">
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="accordion-row" id="outerwear-accordion">
            <label>Outerwear 
                <i class='bx bx-chevron-right bx-sm'></i>
            </label>
            <div class="accordion-content">
                <div class="accordion-box">
                    {% for image_url in image_urls.get('outerwear', []) %}
                    <div class="sb">
                        <img src="{{ image_url }}" alt="Outerwear">
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="accordion-row" id="shoes-accordion">
            <label>Shoes 
                <i class='bx bx-chevron-right bx-sm'></i>
            </label>
            <div class="accordion-content">
                <div class="accordion-box">
                    {% for image_url in image_urls.get('shoes', []) %}
                    <div class="sb">
                        <img src="{{ image_url }}" alt="Shoes">
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="accordion-row" id="bags-accordion">
            <label>Bags 
                <i class='bx bx-chevron-right bx-sm'></i>
            </label>
            <div class="accordion-content">
                <div class="accordion-box">
                    {% for image_url in image_urls.get('bags', []) %}
                    <div class="sb">
                        <img src="{{ image_url }}" alt="Bags">
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="accordion-row" id="accessories-accordion">
            <label>Accessories
                <i class='bx bx-chevron-right bx-sm'></i>
            </label>
            <div class="accordion-content">
                <div class="accordion-box">
                    {% for image_url in image_urls.get('accessories', []) %}
                    <div class="sb">
                        <img src="{{ image_url }}" alt="Accessories">
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>

    <section class="overlay" id="overlay"></section>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const urlParams = new URLSearchParams(window.location.search);
            const top = urlParams.get('top');
            const bottom = urlParams.get('bottom');
            const outerwear = urlParams.get('outerwear');
            const shoes = urlParams.get('shoes');
            const bags = urlParams.get('bags');
            const accessories = urlParams.get('accessories');

            if (top) document.querySelector('.top-container img').src = top;
            if (bottom) document.querySelector('.bottom-container img').src = bottom;
            if (outerwear) document.querySelector('.outerwear-container img').src = outerwear;
            if (shoes) document.querySelector('.shoes-container img').src = shoes;
            if (bags) document.querySelector('.bags-container img').src = bags;
            if (accessories) document.querySelector('.accessories-container img').src = accessories;
        });
    </script>
</body>
</html>
